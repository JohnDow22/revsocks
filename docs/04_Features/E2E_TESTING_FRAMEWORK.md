# Feature: E2E Testing Framework

**–í–µ—Ä—Å–∏—è:** 1.0  
**–î–∞—Ç–∞:** 09.01.2026  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready

## üìå –ü—Ä–æ–±–ª–µ–º–∞
–†–∞–Ω–µ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ RevSocks –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–ª–æ—Å—å Unit-—Ç–µ—Å—Ç–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø–æ–∫—Ä—ã–≤–∞–ª–∏:
- –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞ —á–µ—Ä–µ–∑ —Ä–µ–∞–ª—å–Ω—É—é —Å–µ—Ç—å;
- –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã Yamux —Å–µ—Å—Å–∏–π –ø—Ä–∏ –æ–±—Ä—ã–≤–∞—Ö;
- —Ä–∞–±–æ—Ç—É SOCKS5 –ø—Ä–æ–∫—Å–∏ –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π;
- —Å–ø–µ—Ü–∏—Ñ–∏–∫—É —Å–±–æ—Ä–∫–∏ –±–∏–Ω–∞—Ä–Ω–∏–∫–æ–≤ (Stealth mode).

## ‚úÖ –†–µ—à–µ–Ω–∏–µ
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π E2E Testing Framework –Ω–∞ Go, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –∑–∞–ø—É—Å–∫–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –±–∏–Ω–∞—Ä–Ω–∏–∫–∏ –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –æ–∫—Ä—É–∂–µ–Ω–∏–∏.

### –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
1. **Builder:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è RevSocks –ø–µ—Ä–µ–¥ —Ç–µ—Å—Ç–∞–º–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫—Ä–æ—Å—Å-–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç–∏.
2. **Process Manager:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –∑–∞—Ö–≤–∞—Ç –ª–æ–≥–æ–≤ –∏ –ø–æ–∏—Å–∫ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (WaitForLog) —Å —Ç–∞–π–º–∞—É—Ç–∞–º–∏.
3. **Echo Server:** –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π TCP-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
4. **Traffic Generator:** SOCKS5-–∫–ª–∏–µ–Ω—Ç –¥–ª—è —Å–∏–º—É–ª—è—Ü–∏–∏ —Ä–µ–∞–ª—å–Ω–æ–π –Ω–∞–≥—Ä—É–∑–∫–∏ —á–µ—Ä–µ–∑ —Ç—É–Ω–Ω–µ–ª—å.

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```bash
cd tests/e2e/
go test -v . -timeout 30s
```

### –ü—Ä–∏–º–µ—Ä —Ç–µ—Å—Ç-–∫–µ–π—Å–∞
```go
func TestE2E_Basic(t *testing.T) {
    // 1. –ó–∞–ø—É—Å–∫ Echo —Å–µ—Ä–≤–µ—Ä–∞
    // 2. –ó–∞–ø—É—Å–∫ RevSocks —Å–µ—Ä–≤–µ—Ä–∞
    // 3. –ó–∞–ø—É—Å–∫ RevSocks –∞–≥–µ–Ω—Ç–∞
    // 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ SOCKS5
}
```

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞
- `framework.go`: –ì–ª–æ–±–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ —É—Ç–∏–ª–∏—Ç—ã.
- `builder.go`: –õ–æ–≥–∏–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏.
- `process.go`: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ (Start/Stop/Logs).
- `target.go`: –¢–µ—Å—Ç–æ–≤—ã–π Echo —Å–µ—Ä–≤–µ—Ä.
- `traffic.go`: SOCKS5 –∫–ª–∏–µ–Ω—Ç.

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–°–∞–º —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ –±–∞–∑–æ–≤–æ–º —Å—Ü–µ–Ω–∞—Ä–∏–∏ `TestE2E_Basic`, –∫–æ—Ç–æ—Ä—ã–π —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç –∑–∞ ~0.9—Å.

## üìä –°—Ç–∞—Ç—É—Å
- **–í–µ—Ä—Å–∏—è:** 1.0
- **–î–∞—Ç–∞:** 09.01.2026
- **–¢–µ—Å—Ç—ã:** 1/1 passed (–±–∞–∑–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π)
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~485
